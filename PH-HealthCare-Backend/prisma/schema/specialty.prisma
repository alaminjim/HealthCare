model Specialty{
  id             String     @id @default(uuid())

  title          String     @db.VarChar(100)
  description    String?    @db.Text
  icon           String?    @db.VarChar(255)

  createdAt      DateTime   @default(now())
  updateAt       DateTime   @updatedAt

  isDelete       Boolean    @default(false)
  deleteAt       DateTime?

  doctorSpecialties      DoctorSpecialty[]


  @@index([isDelete], name:"idx_specialty_isDeleted")
  @@index([title], name:"idx_specialty_title")
  @@map("specialties")
}


model DoctorSpecialty{
  id String @id @default(uuid())

  doctorId String
  doctor Doctor @relation(fields: [doctorId],references: [id] ,onDelete:Cascade,onUpdate: Cascade )

  specialId String
  special Specialty @relation(fields: [specialId],references: [id], onDelete: Cascade,onUpdate: Cascade)

  createdAt DateTime @default(now())
  updateAt DateTime  @updatedAt

  @@unique([doctorId, specialId])
  @@index([doctorId], name: "idx_doctor_specialty_doctorId")
  @@index([specialId], name: "idx_doctor_specialty_specialtyId")
  @@map("doctor_specialties")
}